<!doctype html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin=""/>
  <link rel="stylesheet" href="css/testclient.css" />
  <title>OGC API Features / WFS 3 test client</title>
</head>

<body>
  <h1>OGC API Features / WFS 3 test client</h1>
  <div>
    <p>This client is very basic and work in progress. The goal is to demonstrate the usage of OGC API Feature implementations ("WFS 3") and to test different implementations of that API specification. Enter an OpenAPI document URL to see what data is offered
      by the API. The logging screen below the map shows which HTTP requests are sent.</p>
    <p><label for="wfs3url">API doc URL: <input type="text" id="wfs3url" value="https://demo.pygeoapi.io/master/openapi" onchange="initWFS3(this.value)" autocomplete="off" /> </label>
      <button onclick="initWFS3()" id="go">Go</button>
      <button onclick="clearlayers()" id="clear">Clear</button>
      <input value="2020-05-01 11:00:00" size="30" id="from"/>
      <input value="2020-05-30 23:00:00" size="30" id="to"/>
      <input value="100" size="4" id="limit"/>
    </p>
  </div>
  <div id="apiinfo">
    <div id="examples">
      <h2>Examples</h2>
      <div class="NL">
        <h3>Offering Dutch data</h3>
        <ul>
          <li>PyGeoAPI demo <button onclick='setWFS3url("https://demo.pygeoapi.io/master/openapi")'>Load</button> <a href="https://demo.pygeoapi.io/master/openapi" target="_blank">View API doc</a></li>
          <li>Geonovum INSPIRE lab demo (no HTTPS support) <button onclick='setWFS3url("http://inspirelab.geonovum.nl/test/wfs3/api")'>Load</button> <a href="http://inspirelab.geonovum.nl/test/wfs3/api" target="_blank">View API doc</a></li>
          <li>Subset demo BGT Swifterbant (WGS84)<button onclick='setWFS3url("https://geodata.nationaalgeoregister.nl/test/bgt/wfs/3.0/api")'>Load</button> <a href="https://geodata.nationaalgeoregister.nl/test/bgt/wfs/3.0/api" target="_blank">View API doc</a></li>
          <li>Subset demo BGT Swifterbant (RD, EPSG:28992)<button onclick='setWFS3url("https://geodata.nationaalgeoregister.nl/test/bgt/28992/wfs/3.0/api")'>Load</button> <a href="https://geodata.nationaalgeoregister.nl/test/bgt/28992/wfs/3.0/api" target="_blank">View API doc</a></li>
        </ul>
      </div>
      <div class="intl">
        <h3>International / generic</h3>
        <ul>
          <li>https://www.ldproxy.nrw.de/topographie <button onclick='setWFS3url("https://www.ldproxy.nrw.de/topographie")'>Load</button> <a href="https://www.ldproxy.nrw.de/topographie" target="_blank">View API doc</a></li>
          <li>https://beta-paikkatieto.maanmittauslaitos.fi/geographic-names/wfs3/v1/api <button onclick='setWFS3url("https://beta-paikkatieto.maanmittauslaitos.fi/geographic-names/wfs3/v1/api")'>Load</button> <a href="https://beta-paikkatieto.maanmittauslaitos.fi/geographic-names/wfs3/v1/api"
              target="_blank">View API</a></li>
          <li>https://geo.weather.gc.ca/geomet-beta/features <button onclick='setWFS3url("https://geo.weather.gc.ca/geomet-beta/features")'>Load</button> <a href="https://geo.weather.gc.ca/geomet-beta/features" target="_blank">View API doc</a></li>
        </ul>
      </div>
      <div class="localhost">
        <h3>Local testing</h3>
        <ul>
          <li>http://localhost:5000/api (local testing)<button onclick='setWFS3url("http://localhost:5000/api")'>Load</button> <a href="http://localhost:5000/api" target="_blank">View API doc</a></li>
        </ul>
      </div>
    </div>
    <div id="collections">Load an OpenAPI document first. Use the examples from the left, or input another one above.
    </div>
  </div>

  <div id="map" class="map"></div>
  <div id="log" class="log"></div>

  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
          integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
          crossorigin=""></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

  <script src="js/testclient.js"></script>

  <script>
    initMap();
  </script>

</body>

</html>
